<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Travel ID - ç©¶æ¥µã®æ—…è¨ºæ–­</title>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-9SCPDPG40L"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-9SCPDPG40L');
    </script>

    <meta property="og:title" content="Travel ID Diagnosis">
    <meta property="og:description" content="Discover your true travel personality. / ã‚ãªãŸã®æ—…ã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’13å•ã§è§£æ˜ã—ã¾ã™ã€‚">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://travel-id-lab.github.io/travel-id-app/">
    <meta property="og:image" content="https://travel-id-lab.github.io/travel-id-app/images/æ³¥æ”»å­¤éŠ.png">
    
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://travel-id-lab.github.io/travel-id-app/images/æ³¥æ”»å­¤éŠ.png">

    <style>
        :root {
            --primary: #3b82f6;
            --accent: #8b5cf6;
            --bg: #f8fafc;
            --card: #ffffff;
            --text: #1e293b;
            --x-color: #000000;
            --rare-gold: #FFD700;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue", YuGothic, "ãƒ’ãƒ©ã‚®ãƒè§’ã‚´ ProN W3", Meiryo, sans-serif;
            background-color: var(--bg);
            color: var(--text);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            background: var(--card);
            width: 100%;
            max-width: 500px;
            padding: 30px;
            border-radius: 24px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.08);
            text-align: center;
            transition: all 0.3s ease;
            overflow: hidden;
            position: relative; /* è¨€èªã‚¹ã‚¤ãƒƒãƒç”¨ */
        }

        /* è¨€èªåˆ‡ã‚Šæ›¿ãˆã‚¹ã‚¤ãƒƒãƒ */
        .lang-switch {
            position: absolute;
            top: 20px;
            right: 20px;
            background: #f1f5f9;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
            cursor: pointer;
            border: 1px solid #e2e8f0;
            color: #64748b;
        }
        .lang-switch:hover { background: #e2e8f0; color: var(--primary); }

        h1 { font-size: 24px; margin-bottom: 10px; font-weight: 800; margin-top: 10px; }
        h2 { font-size: 16px; color: #64748b; margin-bottom: 30px; font-weight: normal; }
        
        .question-text {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 30px;
            min-height: 72px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .btn-group { display: flex; flex-direction: column; gap: 12px; }

        button {
            padding: 16px;
            border: 2px solid #e2e8f0;
            border-radius: 16px;
            background: white;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.2s;
            font-weight: 600;
            color: var(--text);
        }

        button:hover:not(:disabled) {
            background-color: #f1f5f9;
            border-color: var(--primary);
        }

        button.start-btn {
            background: linear-gradient(135deg, var(--primary), var(--accent));
            color: white;
            border: none;
            font-size: 20px;
            padding: 20px 40px;
            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.3);
        }
        button.start-btn:hover { opacity: 0.9; transform: translateY(-2px); }

        /* Share Button */
        button.share-btn {
            background-color: var(--x-color);
            color: white;
            border: none;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            font-weight: bold;
        }
        button.share-btn:hover { opacity: 0.8; transform: translateY(-2px); background-color: #333; }

        /* Result Styles */
        .image-container {
            width: 100%; height: 250px; border-radius: 16px; overflow: hidden; margin-bottom: 20px;
            background-color: #e2e8f0; box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        .result-img { width: 100%; height: 100%; object-fit: cover; }
        .result-type-title { font-size: 18px; font-weight: bold; color: var(--primary); margin-bottom: 5px; }
        .result-id {
            font-size: 42px; font-weight: 900; letter-spacing: 4px; margin: 0 0 20px 0;
            background: linear-gradient(45deg, #3b82f6, #8b5cf6); -webkit-background-clip: text; -webkit-text-fill-color: transparent; line-height: 1.2;
        }
        
        .rare-banner {
            background: linear-gradient(45deg, #FFD700, #FFA500, #FFD700);
            background-size: 200% 200%;
            color: #fff; padding: 15px; border-radius: 12px; margin-bottom: 25px;
            font-weight: 900; text-shadow: 1px 1px 2px rgba(0,0,0,0.3); border: 3px solid #fff;
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.6);
            animation: rareGlow 2s infinite alternate, gradientMove 3s ease infinite;
        }
        @keyframes rareGlow { from { box-shadow: 0 0 5px rgba(255, 215, 0, 0.5); transform: scale(1); } to { box-shadow: 0 0 25px rgba(255, 215, 0, 0.9); transform: scale(1.02); } }
        @keyframes gradientMove { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }
        .rare-star { color: #fff; font-size: 1.3em; margin: 0 5px; }
        .rare-title { font-size: 22px; margin-top: 5px; letter-spacing: 2px; }

        .info-box {
            background: #f1f5f9; border-radius: 16px; padding: 20px; text-align: left; margin-bottom: 15px; border: 1px solid #e2e8f0;
        }
        .info-title { font-size: 12px; font-weight: bold; color: #64748b; margin-bottom: 5px; text-transform: uppercase; letter-spacing: 1px; }
        .info-content { font-size: 16px; font-weight: bold; color: #334155; }
        .match-tag { display: inline-block; background: linear-gradient(135deg, #f472b6, #db2777); color: white; padding: 4px 12px; border-radius: 20px; font-size: 14px; font-weight: bold; margin-top: 5px; }

        .neutral-advice-box {
            margin-top: 10px; padding: 10px; background-color: rgba(255, 255, 255, 0.6);
            border-radius: 8px; font-size: 12px; color: #831843; border-left: 3px solid #db2777; display: none;
        }

        .result-description { text-align: left; font-size: 15px; color: #475569; margin-bottom: 30px; line-height: 1.8; }

        .spectrum-container { margin-top: 30px; text-align: left; padding-top: 20px; border-top: 2px dashed #e2e8f0;}
        .axis-row { margin-bottom: 25px; }
        .axis-labels { display: flex; justify-content: space-between; font-size: 12px; font-weight: 700; margin-bottom: 8px; color: #94a3b8; }
        .bar-bg { height: 10px; background: #e2e8f0; border-radius: 5px; position: relative; }
        .dot {
            width: 18px; height: 18px; background: white; border: 4px solid var(--primary);
            border-radius: 50%; position: absolute; top: 50%;
            transform: translate(-50%, -50%); transition: left 1s cubic-bezier(0.34, 1.56, 0.64, 1);
            left: 50%; box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        
        .progress-bar { height: 6px; background: #e2e8f0; margin-bottom: 20px; border-radius: 3px; overflow: hidden; }
        .progress-fill { height: 100%; background: var(--primary); width: 0%; transition: width 0.3s; }
        .hidden { display: none; }
        .fade-in { animation: fadeIn 0.6s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>

<div class="container" id="app">
    <div class="lang-switch" onclick="toggleLanguage()" id="lang-btn">ğŸ‡¯ğŸ‡µ JP / ğŸ‡ºğŸ‡¸ EN</div>

    <div id="start-screen">
        <h1 id="start-title">Travel ID è¨ºæ–­</h1>
        <h2 id="start-subtitle">ã‚ãªãŸã®æ—…ã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’<br>13å•ã§è§£æ˜ã—ã¾ã™ã€‚</h2>
        <div style="margin: 20px auto; width: 120px; height: 120px; background: #e2e8f0; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 40px;">âœˆï¸</div>
        <button class="start-btn" onclick="startQuiz()" id="start-btn-text">è¨ºæ–­ã‚’å§‹ã‚ã‚‹</button>
        <p style="font-size: 12px; color: #94a3b8; margin-top: 30px;">Global Edition</p>
    </div>

    <div id="quiz-screen" class="hidden">
        <div class="progress-bar"><div class="progress-fill" id="progress"></div></div>
        <div class="question-text" id="question-text">Loading...</div>
        <div class="btn-group" id="options-container"></div>
    </div>

    <div id="result-screen" class="hidden fade-in">
        <div id="rare-banner" class="rare-banner hidden"></div>

        <div class="image-container">
            <img id="result-image" class="result-img" src="" alt="Result Image">
        </div>
        
        <div class="result-type-title" id="result-title"></div>
        <div class="result-id" id="result-kanji"></div>

        <button class="share-btn" onclick="shareOnX()">
            <svg width="18" height="18" fill="currentColor" viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
            <span id="share-btn-text">Xã§çµæœã‚’ãƒã‚¹ãƒˆ</span>
        </button>
        
        <div class="result-description" id="result-desc-text"></div>

        <div class="info-box">
            <div class="info-title" id="label-rec">ğŸ—ºï¸ ãŠã™ã™ã‚ã®æ—…å…ˆ</div>
            <div class="info-content" id="result-rec"></div>
        </div>
        
        <div class="info-box">
            <div class="info-title" id="label-item">ğŸ’ å¿…é ˆã‚¢ã‚¤ãƒ†ãƒ </div>
            <div class="info-content" id="result-item"></div>
        </div>

        <div class="info-box" style="background: #fff1f2; border-color: #fecdd3;">
            <div class="info-title" id="label-match" style="color: #db2777;">â¤ï¸ æœ€é«˜ã®æ—…ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼</div>
            <div class="match-tag" id="result-match"></div>
            <p style="font-size: 12px; margin-top: 8px; color: #831843;" id="text-match-desc">ã“ã®ã‚¿ã‚¤ãƒ—ã®äººã¨è¡Œãã¨ã€äº’ã„ã«è£œã„åˆã„ã€æœ€é«˜ã®æ—…ã«ãªã‚Šã¾ã™ã€‚</p>
            <div id="neutral-advice" class="neutral-advice-box"></div>
        </div>

        <div class="spectrum-container">
            <p style="font-size: 14px; font-weight: bold; margin-bottom: 15px;" id="label-score">è©³ç´°ã‚¹ã‚³ã‚¢åˆ†æ</p>
            <div class="axis-row">
                <div class="axis-labels"><span id="axis-clean">æ¸…æ½” (Clean)</span><span id="axis-mud">æ··æ²Œ (Deep)</span></div>
                <div class="bar-bg"><div class="dot" id="dot-1"></div></div>
            </div>
            <div class="axis-row">
                <div class="axis-labels"><span id="axis-safe">å®‰å…¨ (Safe)</span><span id="axis-active">æŒ‘æˆ¦ (Active)</span></div>
                <div class="bar-bg"><div class="dot" id="dot-2"></div></div>
            </div>
            <div class="axis-row">
                <div class="axis-labels"><span id="axis-solo">ã‚½ãƒ­ (Solo)</span><span id="axis-social">äº¤æµ (Social)</span></div>
                <div class="bar-bg"><div class="dot" id="dot-3"></div></div>
            </div>
            <div class="axis-row">
                <div class="axis-labels"><span id="axis-order">è¦å¾‹ (Order)</span><span id="axis-flow">æŸ”è»Ÿ (Flow)</span></div>
                <div class="bar-bg"><div class="dot" id="dot-4"></div></div>
            </div>
        </div>
        <button onclick="location.reload()" style="margin-top: 30px; width: 100%; background: #1e293b; color: white; border: none;" id="btn-top">ãƒˆãƒƒãƒ—ã«æˆ»ã‚‹</button>
    </div>
</div>

<script>
    // === å¤šè¨€èªãƒ‡ãƒ¼ã‚¿ ===
    let currentLang = 'ja'; // 'ja' or 'en'

    const translations = {
        ja: {
            title: "Travel ID è¨ºæ–­",
            subtitle: "ã‚ãªãŸã®æ—…ã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’<br>13å•ã§è§£æ˜ã—ã¾ã™ã€‚",
            startBtn: "è¨ºæ–­ã‚’å§‹ã‚ã‚‹",
            shareBtn: "Xã§çµæœã‚’ãƒã‚¹ãƒˆ",
            labelRec: "ğŸ—ºï¸ ãŠã™ã™ã‚ã®æ—…å…ˆ",
            labelItem: "ğŸ’ å¿…é ˆã‚¢ã‚¤ãƒ†ãƒ ",
            labelMatch: "â¤ï¸ æœ€é«˜ã®æ—…ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼",
            textMatchDesc: "ã“ã®ã‚¿ã‚¤ãƒ—ã®äººã¨è¡Œãã¨ã€äº’ã„ã«è£œã„åˆã„ã€æœ€é«˜ã®æ—…ã«ãªã‚Šã¾ã™ã€‚",
            labelScore: "è©³ç´°ã‚¹ã‚³ã‚¢åˆ†æ",
            btnTop: "ãƒˆãƒƒãƒ—ã«æˆ»ã‚‹",
            axes: { clean: "æ¸…æ½”ãƒ»å¿«é© (æµ„)", mud: "æ··æ²Œãƒ»ãƒ‡ã‚£ãƒ¼ãƒ— (æ³¥)", safe: "å®‰å…¨ãƒ»ãƒªãƒ©ãƒƒã‚¯ã‚¹ (å®‰)", active: "æŒ‘æˆ¦ãƒ»ã‚¢ã‚¯ãƒ†ã‚£ãƒ– (æ”»)", solo: "ã‚½ãƒ­ãƒ»å†…çœ (å­¤)", social: "äº¤æµãƒ»ãƒ¯ã‚¤ãƒ¯ã‚¤ (å…±)", order: "è¦å¾‹ãƒ»è¨ˆç”»çš„ (å¾‹)", flow: "æŸ”è»Ÿãƒ»è¡Œãå½“ãŸã‚Šã°ã£ãŸã‚Š (éŠ)" },
            rareMud: "ç©¶æ¥µã®ã‚µãƒã‚¤ãƒãƒ¼", rareClean: "è‡³é«˜ã®è–åŸŸã®ä½äºº",
            neutralAdvice: "ğŸ’¡ ãƒ¯ãƒ³ãƒã‚¤ãƒ³ãƒˆ:<br>ã‚ãªãŸã¯ã€Œè¡›ç”Ÿè¦³å¿µã€ã®æ•°å€¤ãŒå¹³å‡ã«è¿‘ã„ãŸã‚ã€æŸ”è»Ÿæ€§ãŒã‚ã‚Šã¾ã™ã€‚<br>ç›¸æ‰‹ã‚‚æ¥µç«¯ãªæ½”ç™–ãƒ»ä¸æ½”ã§ãªã‘ã‚Œã°<strong>ã€$1ã€‘</strong>ã‚¿ã‚¤ãƒ—ã®äººã§ã‚‚ã€æ„å¤–ã¨è¨±å®¹ã§ãã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ï¼",
            cleanName: "æµ„ï¼ˆCleanï¼‰", mudName: "æ³¥ï¼ˆMudï¼‰"
        },
        en: {
            title: "Travel ID Diagnosis",
            subtitle: "Discover your true travel style<br>in just 13 questions.",
            startBtn: "Start Quiz",
            shareBtn: "Share on X",
            labelRec: "ğŸ—ºï¸ Recommended Destinations",
            labelItem: "ğŸ’ Must-Have Items",
            labelMatch: "â¤ï¸ Best Travel Buddy",
            textMatchDesc: "Traveling with this type complements your style for the best journey.",
            labelScore: "Detailed Analysis",
            btnTop: "Back to Top",
            axes: { clean: "Clean & Comfort", mud: "Deep & Chaos", safe: "Safe & Relax", active: "Challenge & Active", solo: "Solo & Inner", social: "Social & Party", order: "Planned & Order", flow: "Flexible & Flow" },
            rareMud: "The Ultimate Survivor", rareClean: "Sanctuary Dweller",
            neutralAdvice: "ğŸ’¡ Tip:<br>Your hygiene standards are flexible.<br>Unless they are extreme, you might get along well with <strong>[$1]</strong> types!",
            cleanName: "Clean", mudName: "Deep"
        }
    };

    // 1. Result Data (Multi-language)
    const resultData = {
        "æ³¥æ”»å­¤éŠ": { 
            ja: { title: "å­¤é«˜ã®ãƒãƒ¼ãƒ‰ã‚³ã‚¢å†’é™ºå®¶", desc: "æœ€ã‚‚éé…·ãªç’°å¢ƒã‚’æ„›ã™ã‚‹ã‚¿ã‚¤ãƒ—ã€‚è¨ˆç”»ã¯ä¸€åˆ‡ç«‹ã¦ãšã€ãã®æ—¥ã®ç›´æ„Ÿã¨å‡ºä¼šã„ã«èº«ã‚’ä»»ã›ã‚‹ã€‚å¿«é©ã•ã‚ˆã‚Šã‚‚ã€Œç”Ÿã®å®Ÿæ„Ÿã€ã‚’æ±‚ã‚ã€èª°ã‚‚è¡Œã‹ãªã„å ´æ‰€ã¸ä¸€äººã§è¸ã¿è¾¼ã‚€ã“ã¨ã«è‡³ä¸Šã®å–œã³ã‚’æ„Ÿã˜ã‚‹ã€‚", rec: "ã‚¤ãƒ³ãƒ‰ï¼ˆãƒãƒ©ãƒŠã‚·ï¼‰ã€ã‚¢ãƒã‚¾ãƒ³å¥¥åœ°", item: "é«˜æ€§èƒ½ãªãƒãƒƒã‚¯ãƒ‘ãƒƒã‚¯ã€æµ„æ°´ãƒœãƒˆãƒ«", match: "æ³¥æ”»å­¤å¾‹" },
            en: { title: "The Lone Hardcore Adventurer", desc: "You love the harshest environments. No plans, just intuition. You seek the 'raw reality' over comfort and find joy in stepping into the unknown alone.", rec: "India (Varanasi), Amazon Rainforest", item: "High-spec Backpack, Water Purifier", match: "æ³¥æ”»å­¤å¾‹" }
        },
        "æ³¥æ”»å­¤å¾‹": { 
            ja: { title: "ã‚¹ãƒˆã‚¤ãƒƒã‚¯ãªæ¢æ¤œå®¶", desc: "éé…·ãªç›®æ¨™ï¼ˆä¾‹ï¼šæœªè¸å³°åˆ¶è¦‡ï¼‰ã®ãŸã‚ã«ã€ç¶¿å¯†ãªæº–å‚™ã¨ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ã‚’æ¬ ã‹ã•ãªã„ã€‚æ¥½ã—ã¿ã®ãŸã‚ã®æ—…ã§ã¯ãªãã€ŒãƒŸãƒƒã‚·ãƒ§ãƒ³ã€ã¨ã—ã¦ã®æ—…ã‚’å¥½ã‚€ã€‚", rec: "ã‚­ãƒªãƒãƒ³ã‚¸ãƒ£ãƒ­ç™»å±±ã€ãƒ‘ã‚¿ã‚´ãƒ‹ã‚¢", item: "ç™»å±±é´ã€è©³ç´°ãªåœ°å½¢å›³", match: "æ³¥æ”»å­¤éŠ" },
            en: { title: "The Stoic Explorer", desc: "You prepare meticulously for tough goals (e.g., unclimbed peaks). You view travel not as leisure, but as a 'mission'.", rec: "Mt. Kilimanjaro, Patagonia", item: "Hiking Boots, Topo Maps", match: "æ³¥æ”»å­¤éŠ" }
        },
        "æ³¥æ”»å…±éŠ": { 
            ja: { title: "ãŠç¥­ã‚Šé¨’ãã®ã‚µãƒã‚¤ãƒãƒ¼", desc: "ã€Œãƒ¤ãƒã„å ´æ‰€ã€ã§ä»²é–“ã¨å¤§é¨’ãã™ã‚‹ã®ãŒå¤§å¥½ãã€‚ãƒˆãƒ©ãƒ–ãƒ«ã™ã‚‰ã‚‚ç¬‘ã„è©±ã«å¤‰ãˆã‚‹ãƒã‚¸ãƒ†ã‚£ãƒ–ã•ã‚’æŒã¤ã€‚è¡›ç”Ÿè¦³å¿µã¯ä½ã„ãŒã€ãã®å ´ã®ãƒãƒªã¨ä½“åŠ›ã§å…¨ã¦ã‚’ä¹—ã‚Šåˆ‡ã‚‹ã€‚", rec: "ã‚¿ã‚¤ï¼ˆãƒ‘ãƒ³ã‚¬ãƒ³å³¶ï¼‰ã€ãƒ–ãƒ©ã‚¸ãƒ«ï¼ˆã‚«ãƒ¼ãƒ‹ãƒãƒ«ï¼‰", item: "ã‚¹ãƒ”ãƒ¼ã‚«ãƒ¼ã€GoPro", match: "æ³¥æ”»å…±å¾‹" },
            en: { title: "The Party Survivor", desc: "You love partying in chaotic places. You turn trouble into laughter. Hygiene standards are low, but your energy conquers all.", rec: "Thailand (Full Moon Party), Brazil", item: "Speaker, GoPro", match: "æ³¥æ”»å…±å¾‹" }
        },
        "æ³¥æ”»å…±å¾‹": { 
            ja: { title: "éé…·ãƒ„ã‚¢ãƒ¼ã®ç†±è¡€ãƒªãƒ¼ãƒ€ãƒ¼", desc: "ãƒãƒ¼ãƒ‰ãªæ—…ç¨‹ï¼ˆä¾‹ï¼šã‚¸ãƒ£ãƒ³ã‚°ãƒ«ç¸¦èµ°ï¼‰ã‚’ä¼ç”»ã—ã€ä»²é–“ã‚’ç‡ã„ã‚‹éšŠé•·ã‚¿ã‚¤ãƒ—ã€‚ãƒªã‚¹ã‚¯ç®¡ç†ã¯ã—ã£ã‹ã‚Šè¡Œã†ãŒã€æ±‚ã‚ã‚‹ä½“é¨“ã®ãƒ¬ãƒ™ãƒ«ãŒé«˜ã™ãã‚‹ãŸã‚ã€ã¤ã„ã¦æ¥ã‚‰ã‚Œã‚‹äººã¯é™ã‚‰ã‚Œã‚‹ã‹ã‚‚ã€‚", rec: "ãƒãƒãƒ¥ãƒ”ãƒãƒ¥éºè·¡ã€ã‚µãƒ•ã‚¡ãƒªãƒ„ã‚¢ãƒ¼", item: "ãƒˆãƒ©ãƒ³ã‚·ãƒ¼ãƒãƒ¼ã€äºˆå‚™ãƒãƒƒãƒ†ãƒªãƒ¼", match: "æ³¥æ”»å…±éŠ" },
            en: { title: "The Hardcore Expedition Leader", desc: "You plan tough itineraries (e.g., jungle trekking) and lead the team. Your risk management is solid, but your standards for adventure are high.", rec: "Machu Picchu, Safari Tour", item: "Walkie-Talkie, Spare Batteries", match: "æ³¥æ”»å…±éŠ" }
        },
        "æ³¥å®‰å­¤éŠ": { 
            ja: { title: "ãƒ‡ã‚£ãƒ¼ãƒ—ãªè¡—ã®æ”¾æµªè©©äºº", desc: "è¦³å…‰åœ°ã§ã¯ãªã„ã€ç¾åœ°ã®ç”Ÿæ´»æ„ŸãŒæº¢ã‚Œã‚‹è·¯åœ°è£ã‚’å¥½ã‚€ã€‚ç‰¹åˆ¥ãªä½•ã‹ã‚’ã™ã‚‹ã‚ã‘ã§ã¯ãªãã€ãŸã ãã“ã«ã€Œå±…ã‚‹ã€ã“ã¨ã‚’æ¥½ã—ã‚€ã€‚ç¤¾ä¼šçš„ãªäº¤æµã¯é¿ã‘ã€è‡ªåˆ†ã®ä¸–ç•Œã«æµ¸ã‚‹ã€‚", rec: "ãƒ™ãƒˆãƒŠãƒ ï¼ˆãƒãƒã‚¤ï¼‰ã€ãƒãƒ«ãƒˆã‚¬ãƒ«", item: "ãƒ•ã‚£ãƒ«ãƒ ã‚«ãƒ¡ãƒ©ã€æ–‡åº«æœ¬", match: "æ³¥å®‰å…±éŠ" },
            en: { title: "The Wandering Poet", desc: "You prefer gritty back alleys over tourist spots. You enjoy just 'being' there. You avoid socializing and immerse yourself in your own world.", rec: "Vietnam (Hanoi), Portugal", item: "Film Camera, Paperback Book", match: "æ³¥å®‰å…±éŠ" }
        },
        "æ³¥å®‰å­¤å¾‹": { 
            ja: { title: "ãƒãƒ‹ã‚¢ãƒƒã‚¯ãªç ”ç©¶è€…", desc: "ç‰¹å®šã®ãƒ‹ãƒƒãƒãªå¯¾è±¡ï¼ˆä¾‹ï¼šè¾ºå¢ƒã®éºè·¡ã€å¥‡å¦™ãªé£Ÿæ–‡åŒ–ï¼‰ã‚’ç ”ç©¶ã™ã‚‹ãŸã‚ã«æ—…ã‚’ã™ã‚‹ã€‚è¡Œå‹•ç¯„å›²ã¯ç‹­ããƒªã‚¹ã‚¯ã¯å–ã‚‰ãªã„ãŒã€å¯¾è±¡ã¸ã®æ²¡å…¥åº¦ã¯å‡„ã¾ã˜ã„ã€‚", rec: "ã‚¨ã‚¸ãƒ—ãƒˆã€ã‚«ãƒ³ãƒœã‚¸ã‚¢", item: "åŒçœ¼é¡ã€å°‚é–€æ›¸", match: "æ³¥å®‰å…±å¾‹" },
            en: { title: "The Maniac Researcher", desc: "You travel to study niche subjects (e.g., remote ruins). You don't take risks, but your immersion in the subject is intense.", rec: "Egypt, Cambodia", item: "Binoculars, Academic Books", match: "æ³¥å®‰å…±å¾‹" }
        },
        "æ³¥å®‰å…±éŠ": { 
            ja: { title: "ä¸‹ç”ºã®æ„›ã•ã‚Œã‚­ãƒ£ãƒ©", desc: "å®‰å®¿ã®ãƒ‰ãƒŸãƒˆãƒªãƒ¼ã‚„åœ°å…ƒã®é£Ÿå ‚ã§ã€ã„ã¤ã®é–“ã«ã‹ç¾åœ°ã®äººã¨ä»²è‰¯ããªã£ã¦ã„ã‚‹ã€‚è¨ˆç”»æ€§ãŒãªãã€ãŠé‡‘ã‚‚ãªã„ãŒã€æ„›å¬Œã¨ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³èƒ½åŠ›ã§ä½•ã¨ã‹ã—ã¦ã—ã¾ã†ã€‚", rec: "ã‚«ã‚ªã‚µãƒ³é€šã‚Šã€ãƒ¡ã‚­ã‚·ã‚³", item: "æŠ˜ã‚Šç´™ã€ç¿»è¨³ã‚¢ãƒ—ãƒª", match: "æ³¥å®‰å­¤éŠ" },
            en: { title: "The Local's Favorite", desc: "You make friends instantly at hostels or local diners. No plan, no money, but your charm and communication skills get you through.", rec: "Khaosan Road, Mexico", item: "Origami, Translation App", match: "æ³¥å®‰å­¤éŠ" }
        },
        "æ³¥å®‰å…±å¾‹": { 
            ja: { title: "æ¿€å®‰ãƒ„ã‚¢ãƒ¼ã®ã—ã£ã‹ã‚Šè€…", desc: "ã€Œã„ã‹ã«å®‰ãã€ãƒ‡ã‚£ãƒ¼ãƒ—ãªä½“é¨“ã‚’ã™ã‚‹ã‹ã€ã«å‘½ã‚’ã‹ã‘ã‚‹ç¯€ç´„æ—…è¡Œå®¶ã€‚ä¸ä¾¿ã•ã¯è¨±å®¹ã™ã‚‹ãŒã€ç„¡é§„ãªå‡ºè²»ã¯è¨±ã•ãªã„ã€‚ã‚°ãƒ«ãƒ¼ãƒ—æ—…è¡Œã§ã¯ä¼šè¨ˆä¿‚ã¨ã—ã¦é‡å®ã•ã‚Œã‚‹ã€‚", rec: "ãƒ©ã‚ªã‚¹ã€ã‚¤ãƒ³ãƒ‰ï¼ˆé‰„é“ï¼‰", item: "é›»å“ã€Så­—ãƒ•ãƒƒã‚¯", match: "æ³¥å®‰å­¤å¾‹" },
            en: { title: "The Budget Master", desc: "You live to travel cheaply but deeply. You tolerate inconvenience but hate waste. You are the treasurer of the group.", rec: "Laos, India (Railway)", item: "Calculator, S-Hooks", match: "æ³¥å®‰å­¤å¾‹" }
        },
        "æµ„æ”»å­¤éŠ": { 
            ja: { title: "ã‚¹ã‚¿ã‚¤ãƒªãƒƒã‚·ãƒ¥ãªè‡ªç”±äºº", desc: "æ¸…æ½”ã§æ´—ç·´ã•ã‚ŒãŸç©ºé–“ã‚’å¥½ã‚€ãŒã€è¡Œå‹•ã¯è‡ªç”±å¥”æ”¾ã€‚æœ€æ–°ã®ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ›ãƒ†ãƒ«ã«æ³Šã¾ã‚Šã¤ã¤ã€æ˜¼é–“ã¯æ°—ã®å‘ãã¾ã¾ã«è¡—ã‚’æ•£ç­–ã™ã‚‹ã€‚è‡ªåˆ†ã®ã‚»ãƒ³ã‚¹ã«çµ¶å¯¾ã®è‡ªä¿¡ã‚’æŒã¤ã€‚", rec: "ãƒ‹ãƒ¥ãƒ¼ãƒ¨ãƒ¼ã‚¯ã€ãƒ‘ãƒª", item: "MacBookã€ã‚µãƒ³ã‚°ãƒ©ã‚¹", match: "æµ„æ”»å­¤å¾‹" },
            en: { title: "The Stylish Free Spirit", desc: "You love clean, sophisticated spaces but act spontaneously. You stay in design hotels and wander the city freely. You trust your taste implicitly.", rec: "NYC (SoHo), Paris", item: "MacBook, Sunglasses", match: "æµ„æ”»å­¤å¾‹" }
        },
        "æµ„æ”»å­¤å¾‹": { 
            ja: { title: "å®Œç’§ä¸»ç¾©ã®çµ¶æ™¯ãƒãƒ³ã‚¿ãƒ¼", desc: "æœ€é«˜ã®ã€Œä¸€æšã€ã‚’æ’®ã‚‹ãŸã‚ãªã‚‰ã€é«˜ç´šæ©Ÿæã‚’æ‹…ã„ã§æ—©æœã‹ã‚‰è¡Œå‹•ã™ã‚‹ã€‚ãŸã ã—ã€å®¿æ³Šå…ˆã‚„ç§»å‹•æ‰‹æ®µã¯å¿«é©ã§ç¢ºå®Ÿãªã‚‚ã®ã‚’æ‰‹é…æ¸ˆã¿ã€‚", rec: "ã‚¹ã‚¤ã‚¹ã€ã‚¦ãƒ¦ãƒ‹å¡©æ¹–", item: "ä¸€çœ¼ãƒ¬ãƒ•ã‚«ãƒ¡ãƒ©ã€ä¸‰è„š", match: "æµ„æ”»å­¤éŠ" },
            en: { title: "The Perfectionist View Hunter", desc: "You wake up early with heavy gear for the perfect shot. However, your accommodation and transport are always comfortable and booked.", rec: "Switzerland, Uyuni Salt Flat", item: "DSLR Camera, Tripod", match: "æµ„æ”»å­¤éŠ" }
        },
        "æµ„æ”»å…±éŠ": { 
            ja: { title: "ã‚­ãƒ©ã‚­ãƒ©å¥³å­æ—…ã®ã‚«ãƒªã‚¹ãƒ", desc: "æœ€æ–°ã®ãƒˆãƒ¬ãƒ³ãƒ‰ã‚¹ãƒãƒƒãƒˆã‚„æ˜ ãˆã‚‹ã‚«ãƒ•ã‚§ã‚’å·¡ã‚‹ã®ãŒå¤§å¥½ãã€‚è¨ˆç”»ã¯ã€Œãã®æ™‚ã®ãƒ†ãƒ³ã‚·ãƒ§ãƒ³ã€ã§å¤‰ã‚ã‚‹ãŒã€æ¸…æ½”æ„Ÿã¨ã‚ªã‚·ãƒ£ãƒ¬ã•ã ã‘ã¯è­²ã‚Œãªã„ã€‚", rec: "éŸ“å›½ã€ãƒ‰ãƒã‚¤ã€LA", item: "è‡ªæ’®ã‚Šæ£’ã€ãƒ˜ã‚¢ã‚¢ã‚¤ãƒ­ãƒ³", match: "æµ„æ”»å…±å¾‹" },
            en: { title: "The Trendy Charisma", desc: "You love trending spots and photogenic cafes. Plans change with your mood, but cleanliness and style are non-negotiable.", rec: "Korea, Dubai, LA", item: "Selfie Stick, Hair Iron", match: "æµ„æ”»å…±å¾‹" }
        },
        "æµ„æ”»å…±å¾‹": { 
            ja: { title: "ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ»ãƒªã‚¾ãƒ¼ãƒˆã®å¹¹äº‹é•·", desc: "é«˜ç´šãƒªã‚¾ãƒ¼ãƒˆã§ã®ã‚´ãƒ«ãƒ•ã‚„ãƒ€ã‚¤ãƒ“ãƒ³ã‚°ãªã©ã€å¿«é©ã‹ã¤æ´»å‹•çš„ãªæ—…ã‚’è¨ˆç”»ã™ã‚‹ã€‚å…¨å“¡ãŒæ¥½ã—ã‚ã‚‹ã‚ˆã†ã«å®Œç’§ãªã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’çµ„ã¿ã€ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³äºˆç´„ã‚‚æŠœã‹ã‚Šãªã„ã€‚", rec: "ãƒãƒ¯ã‚¤ã€ã‚ªãƒ¼ã‚¹ãƒˆãƒ©ãƒªã‚¢", item: "ã‚´ãƒ«ãƒ•ãƒãƒƒã‚°ã€æ—¥ç„¼ã‘æ­¢ã‚", match: "æµ„æ”»å…±éŠ" },
            en: { title: "The Active Resort Planner", desc: "You plan active trips like golf or diving at luxury resorts. You schedule everything perfectly so everyone enjoys the trip.", rec: "Hawaii, Australia", item: "Golf Bag, Sunscreen", match: "æµ„æ”»å…±éŠ" }
        },
        "æµ„å®‰å­¤éŠ": { 
            ja: { title: "å„ªé›…ãªãƒ›ãƒ†ãƒ«ã‚¹ãƒ†ã‚¤æ„›å¥½å®¶", desc: "æ—…ã®ç›®çš„ã¯ã€Œä½•ã‚‚ã—ãªã„ã“ã¨ã€ã€‚æœ€é«˜ç´šã®ãƒ›ãƒ†ãƒ«ã®éƒ¨å±‹ã‚„ãƒ©ã‚¦ãƒ³ã‚¸ã§ã€ä¸€æ—¥ä¸­æœ¬ã‚’èª­ã‚“ã ã‚Šæ™¯è‰²ã‚’çœºã‚ãŸã‚Šã—ã¦éã”ã™ã€‚èª°ã«ã‚‚é‚ªé­”ã•ã‚Œãªã„æ™‚é–“ã‚’æ„›ã™ã‚‹ã€‚", rec: "ãƒ¢ãƒ«ãƒ‡ã‚£ãƒ–ã€ãƒãƒªå³¶", item: "Kindleã€ã‚¢ãƒ­ãƒã‚ªã‚¤ãƒ«", match: "æµ„å®‰å­¤å¾‹" },
            en: { title: "The Elegant Hotel Lover", desc: "Your goal is to do nothing. You spend all day in a luxury hotel room reading or gazing at the view. You love undisturbed silence.", rec: "Maldives, Bali", item: "Kindle, Aroma Oil", match: "æµ„å®‰å­¤å¾‹" }
        },
        "æµ„å®‰å­¤å¾‹": { 
            ja: { title: "æ…é‡æ´¾ã®ç™’ã‚„ã—æ±‚é“è€…", desc: "çµ¶å¯¾ã«å¤±æ•—ã—ãªã„ã€å®‰å…¨ã§æ¸…æ½”ãªæ—…ã—ã‹ã—ãªã„ã€‚è©•åˆ¤ã®è‰¯ã„æ¸©æ³‰æ—…é¤¨ã‚„ãƒªãƒˆãƒªãƒ¼ãƒˆæ–½è¨­ã‚’æ—©æœŸã«äºˆç´„ã—ã€æ±ºã¾ã£ãŸãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã§å¿ƒèº«ã‚’ç™’ã‚„ã™ã€‚", rec: "äº¬éƒ½ã€ãƒ•ã‚£ãƒ³ãƒ©ãƒ³ãƒ‰", item: "ãƒã‚¤æ•ã€å¸¸å‚™è–¬", match: "æµ„å®‰å…±å¾‹" },
            en: { title: "The Cautious Healer", desc: "You take no risks. You book highly-rated ryokans or retreats early and follow a routine to heal your mind and body.", rec: "Kyoto, Finland", item: "My Pillow, Medicine", match: "æµ„å®‰å…±å¾‹" }
        },
        "æµ„å®‰å…±éŠ": { 
            ja: { title: "ã®ã‚“ã³ã‚Šæ¸©æ³‰æ—…è¡Œã‚°ãƒ«ãƒ¼ãƒ—", desc: "æ°—ã®åˆã†ä»²é–“ã‚„å®¶æ—ã¨ã€æ¸…æ½”ãªå®¿ã§ã®ã‚“ã³ã‚Šéã”ã™ã®ãŒå¥½ãã€‚ç´°ã‹ã„è¨ˆç”»ã¯ç«‹ã¦ãšã€ã€Œã¨ã‚Šã‚ãˆãšæ¸©æ³‰å…¥ã£ã¦ç¾å‘³ã—ã„ã‚‚ã®é£Ÿã¹ã‚ˆã†ã€ã¨ã„ã†ã‚†ã‚‹ã„ã‚¹ã‚¿ãƒ³ã‚¹ã€‚", rec: "å°æ¹¾ã€åŒ—æµ·é“", item: "ãƒˆãƒ©ãƒ³ãƒ—ã€ãŠè“å­", match: "æµ„å®‰å­¤éŠ" },
            en: { title: "The Chill Spa Group", desc: "You love relaxing in clean inns with friends/family. No detailed plans, just 'let's soak in the hot spring and eat good food'.", rec: "Taiwan, Hokkaido", item: "Cards, Snacks", match: "æµ„å®‰å­¤éŠ" }
        },
        "æµ„å®‰å…±å¾‹": { 
            ja: { title: "ç‹é“ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ„ã‚¢ãƒ¼å®¢", desc: "å¤§æ‰‹æ—…è¡Œä¼šç¤¾ã®æ·»ä¹—å“¡ä»˜ããƒ„ã‚¢ãƒ¼ã‚’å¥½ã‚€ã€‚ç§»å‹•ã€é£Ÿäº‹ã€å®¿æ³Šã€å…¨ã¦ãŒãŠè†³ç«‹ã¦ã•ã‚ŒãŸå®‰å…¨ãƒ»å®‰å¿ƒãƒ»æ¸…æ½”ãªæ—…ã“ããŒè‡³é«˜ã€‚è‡ªåˆ†ã§èª¿ã¹ã‚‹æ‰‹é–“ã‚’å«Œã„ã€ãƒ—ãƒ­ã«ä»»ã›ãŸã„ã€‚", rec: "ã‚¤ã‚¿ãƒªã‚¢ã€ã‚¯ãƒ«ãƒ¼ã‚ºæ—…è¡Œ", item: "é¦–ä¸‹ã’ãƒ‘ã‚¹ãƒãƒ¼ãƒˆã‚±ãƒ¼ã‚¹", match: "æµ„å®‰å­¤å¾‹" },
            en: { title: "The Classic Tour Tourist", desc: "You prefer guided tours. Safe, secure, and clean travel where everything is arranged is supreme. You trust pros over DIY.", rec: "Italy, Cruise Trip", item: "Passport Holder", match: "æµ„å®‰å­¤å¾‹" }
        }
    };

    // 2. Questions (Multi-language)
    const questions = [
        { 
            ja: "çµ¶æ™¯ã‚„ä¸€ç”Ÿã«ä¸€åº¦ã®ä½“é¨“ã®ãŸã‚ãªã‚‰ã€ã‚·ãƒ£ãƒ¯ãƒ¼ãŒãªãè¡›ç”ŸçŠ¶æ…‹ãŒæ‚ªã„å®¿ã§ã‚‚æ•°æ—¥ã¯æˆ‘æ…¢ã§ãã‚‹ã€‚", 
            en: "For a once-in-a-lifetime view, I can endure days without a shower in poor sanitary conditions.",
            pos: { mud: 2, active: 1 }, neg: { clean: 2, safe: 1 } 
        },
        { 
            ja: "æ—…è¡Œã®ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã¯ã€åˆ†åˆ»ã¿ã§æ±ºã‚ã‚‹ã‚ˆã‚Šã‚‚ã€Œãã®å ´ã®æ°—åˆ†ã€ã§æ±ºã‚ã‚‹ä½™ç™½ã‚’å¤šãæ®‹ã—ãŸã„ã€‚", 
            en: "I prefer leaving my schedule open to spontaneity rather than planning every minute.",
            pos: { flow: 2, safe: 0.5 }, neg: { order: 2, active: 0.5 } 
        },
        { 
            ja: "å®‰å…¨ãªãƒªã‚¾ãƒ¼ãƒˆåœ°ã‚ˆã‚Šã‚‚ã€å°‘ã—å±é™ºãªåŒ‚ã„ã®ã™ã‚‹è·¯åœ°è£ã‚„ã€åœ°å›³ã«ãªã„å ´æ‰€ã®æ–¹ã«ãƒ¯ã‚¯ãƒ¯ã‚¯ã™ã‚‹ã€‚", 
            en: "I get more excited by gritty back alleys and unmapped places than safe resorts.",
            pos: { active: 2, mud: 1 }, neg: { safe: 2, clean: 1 } 
        },
        { 
            ja: "æ—…å…ˆã§ã®é£Ÿäº‹ã¯ã€å€‹å®¤ã§ã‚†ã£ãã‚Šã‚ˆã‚Šã‚‚ã€ç¾åœ°ã®äººã¨ç›¸å¸­ã«ãªã‚‹ã‚ˆã†ãªè³‘ã‚„ã‹ãªå ´æ‰€ãŒå¥½ãã ã€‚", 
            en: "I prefer lively local eateries where I might share a table over private dining.",
            pos: { social: 2, mud: 0.5 }, neg: { solo: 2, clean: 0.5 } 
        },
        { 
            ja: "é›»è»Šã®é‹ä¼‘ãªã©ã§äºˆå®šãŒå®Œå…¨ã«å´©ã‚ŒãŸæ™‚ã€ãƒ‘ãƒ‹ãƒƒã‚¯ã«ãªã‚‹ã‚ˆã‚Šã‚‚ã€Œé¢ç™½ã„å±•é–‹ã«ãªã£ãŸã€ã¨æ„Ÿã˜ã‚‹ã€‚", 
            en: "When plans go wrong (e.g., train cancellation), I find it interesting rather than panicking.",
            pos: { flow: 2, active: 1 }, neg: { order: 2, safe: 1 } 
        },
        { 
            ja: "è¨€è‘‰ãŒå…¨ãé€šã˜ãªã„å ´æ‰€ã§ã€ã‚¸ã‚§ã‚¹ãƒãƒ£ãƒ¼ã ã‘ã§äº¤æ¸‰ã™ã‚‹ã®ã¯ï¼ˆæ€–ã•ã‚ˆã‚Šã‚‚ï¼‰ã‚€ã—ã‚æ¥½ã—ã„ã€‚", 
            en: "I find communicating with gestures in a place where I don't speak the language fun, not scary.",
            pos: { active: 2, social: 1 }, neg: { safe: 2, solo: 1 } 
        },
        { 
            ja: "ã‚‚ã—äºˆç®—ãŒä½™ã£ãŸã‚‰ã€é«˜ç´šãƒ›ãƒ†ãƒ«ã®éƒ¨å±‹ä»£ã‚ˆã‚Šã‚‚ã€ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã‚„ç¾åœ°ä½“é¨“ã«ãŠé‡‘ã‚’ä½¿ã„ãŸã„ã€‚", 
            en: "If I have extra budget, I'd spend it on activities/experiences rather than a luxury hotel room.",
            pos: { active: 2, mud: 0.5 }, neg: { clean: 2, safe: 0.5 } 
        },
        { 
            ja: "ä¸¸ä¸€æ—¥èª°ã¨ã‚‚è©±ã•ãšã€ãƒãƒƒãƒˆã‚‚ç¹‹ãŒã‚‰ãªã„å¤§è‡ªç„¶ã®ä¸­ã§ä¸€äººãã‚Šã€‚ãã‚Œã¯è‡ªåˆ†ã«ã¨ã£ã¦ã€Œè‡³ç¦ã®æ™‚é–“ã€ã ã€‚", 
            en: "Being alone in nature all day with no internet or conversation is pure bliss for me.",
            pos: { solo: 2, mud: 1 }, neg: { social: 2, safe: 1 } 
        },
        { 
            ja: "è¦‹ãŸã“ã¨ã®ãªã„ã€Œè¬ã®å±‹å°æ–™ç†ï¼ˆè¡›ç”Ÿé¢ã¯æ€ªã—ã„ï¼‰ã€ãŒã‚ã£ãŸã‚‰ã€è¿·ã‚ãšæŒ‘æˆ¦ã—ã¦é£Ÿã¹ã‚‹ã€‚", 
            en: "I would try mysterious street food (even if hygiene looks dubious) without hesitation.",
            pos: { mud: 2, active: 1 }, neg: { clean: 2, safe: 1 } 
        },
        { 
            ja: "æ—…ã®ç›®çš„ã¯ã€Œç™’ã‚„ã—ã€ã‚ˆã‚Šã‚‚ã€Œä¾¡å€¤è¦³ã‚’å£Šã•ã‚Œã‚‹ã‚ˆã†ãªåˆºæ¿€ã€ã§ã‚ã‚‹ã¹ãã ã€‚", 
            en: "The purpose of travel should be 'culture shock' and stimulation, not just relaxation.",
            pos: { active: 2, flow: 1 }, neg: { safe: 2, order: 1 } 
        },
        { 
            ja: "ä¸€ç·’ã«è¡Œããªã‚‰ã€è‡ªåˆ†ã«åˆã‚ã›ã¦ãã‚Œã‚‹äººã‚ˆã‚Šã€æŒ¯ã‚Šå›ã—ã¦ã§ã‚‚æ–°ã—ã„ä¸–ç•Œã‚’è¦‹ã›ã¦ãã‚Œã‚‹äººãŒã„ã„ã€‚", 
            en: "I'd rather travel with someone who drags me into new worlds than someone who just follows me.",
            pos: { flow: 2, social: 1 }, neg: { order: 2, solo: 1 } 
        },
        { 
            ja: "è·é€ ã‚Šã§ã¯ã€Œã‚‚ã—ã‚‚ã€ã‚’è€ƒãˆã¦ã€ã‚ã‚Œã“ã‚Œè·ç‰©ã‚’æŒã£ã¦ã„ãæ–¹ã ï¼ˆå¿ƒé…æ€§ã§ã‚ã‚‹ï¼‰ã€‚", 
            en: "I tend to overpack because I worry about 'what if' scenarios.",
            pos: { order: 2, safe: 1 }, neg: { flow: 2, mud: 1 } 
        },
        { 
            ja: "æ¯æœã®èµ·åºŠæ™‚é–“ã‚„ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã¯ã€æ—…å…ˆã§ã‚‚å´©ã•ãšã«å®ˆã‚ŠãŸã„ã€‚", 
            en: "I want to keep my morning routine and wake-up time even when traveling.",
            pos: { order: 2, clean: 0.5 }, neg: { flow: 2, active: 0.5 } 
        }
    ];

    const optionsData = [
        { ja: "å®Œå…¨ã«ãã†æ€ã†", en: "Strongly Agree", weight: 1.0, type: "pos" },
        { ja: "ã‚„ã‚„ãã†æ€ã†", en: "Agree", weight: 0.5, type: "pos" },
        { ja: "ã©ã¡ã‚‰ã§ã‚‚ãªã„", en: "Neutral", weight: 0, type: "neu" },
        { ja: "ã‚ã¾ã‚Šãã†æ€ã‚ãªã„", en: "Disagree", weight: 0.5, type: "neg" },
        { ja: "å…¨ããã†æ€ã‚ãªã„", en: "Strongly Disagree", weight: 1.0, type: "neg" }
    ];

    // === Logic ===
    let currentQIndex = 0;
    let scores = { mud: 0, clean: 0, active: 0, safe: 0, social: 0, solo: 0, flow: 0, order: 0 };
    let finalId = "";

    function toggleLanguage() {
        currentLang = currentLang === 'ja' ? 'en' : 'ja';
        document.getElementById('lang-btn').innerText = currentLang === 'ja' ? "ğŸ‡¯ğŸ‡µ JP / ğŸ‡ºğŸ‡¸ EN" : "ğŸ‡ºğŸ‡¸ EN / ğŸ‡¯ğŸ‡µ JP";
        updateUIText();
        
        // ç”»é¢ã®çŠ¶æ…‹ã«åˆã‚ã›ã¦å†æç”»
        if (!document.getElementById('start-screen').classList.contains('hidden')) {
            // ã‚¹ã‚¿ãƒ¼ãƒˆç”»é¢
        } else if (!document.getElementById('quiz-screen').classList.contains('hidden')) {
            renderQuestion();
        } else {
            showResults(); // çµæœç”»é¢ã‚‚è¨€èªæ›´æ–°
        }
    }

    function updateUIText() {
        const t = translations[currentLang];
        document.getElementById('start-title').innerText = t.title;
        document.getElementById('start-subtitle').innerHTML = t.subtitle;
        document.getElementById('start-btn-text').innerText = t.startBtn;
        document.getElementById('share-btn-text').innerText = t.shareBtn;
        document.getElementById('label-rec').innerText = t.labelRec;
        document.getElementById('label-item').innerText = t.labelItem;
        document.getElementById('label-match').innerText = t.labelMatch;
        document.getElementById('text-match-desc').innerText = t.textMatchDesc;
        document.getElementById('label-score').innerText = t.labelScore;
        document.getElementById('btn-top').innerText = t.btnTop;
        
        document.getElementById('axis-clean').innerText = t.axes.clean;
        document.getElementById('axis-mud').innerText = t.axes.mud;
        document.getElementById('axis-safe').innerText = t.axes.safe;
        document.getElementById('axis-active').innerText = t.axes.active;
        document.getElementById('axis-solo').innerText = t.axes.solo;
        document.getElementById('axis-social').innerText = t.axes.social;
        document.getElementById('axis-order').innerText = t.axes.order;
        document.getElementById('axis-flow').innerText = t.axes.flow;
    }

    function startQuiz() {
        document.getElementById('start-screen').classList.add('hidden');
        document.getElementById('quiz-screen').classList.remove('hidden');
        renderQuestion();
    }

    function renderQuestion() {
        const q = questions[currentQIndex];
        document.getElementById('question-text').innerText = `Q${currentQIndex + 1}. ${q[currentLang]}`;
        const pct = ((currentQIndex) / questions.length) * 100;
        document.getElementById('progress').style.width = `${pct}%`;
        
        const container = document.getElementById('options-container');
        container.innerHTML = '';
        optionsData.forEach(opt => {
            const btn = document.createElement('button');
            btn.innerText = opt[currentLang];
            btn.onclick = () => handleAnswer(opt, q);
            container.appendChild(btn);
        });
    }

    function handleAnswer(option, question) {
        if (option.type === 'pos') { for (const [key, val] of Object.entries(question.pos)) scores[key] += val * option.weight; }
        else if (option.type === 'neg') { for (const [key, val] of Object.entries(question.neg)) scores[key] += val * option.weight; }
        
        currentQIndex++;
        if (currentQIndex < questions.length) renderQuestion(); else showResults();
    }

    function showResults() {
        document.getElementById('quiz-screen').classList.add('hidden');
        document.getElementById('result-screen').classList.remove('hidden');

        const axis1 = scores.mud - scores.clean;
        const axis2 = scores.active - scores.safe;
        const axis3 = scores.social - scores.solo;
        const axis4 = scores.flow - scores.order;
        
        // IDç”Ÿæˆï¼ˆãƒ­ã‚¸ãƒƒã‚¯ã¯å¸¸ã«æ¼¢å­—ãƒ™ãƒ¼ã‚¹ã§è¡Œã†ï¼‰
        if (!finalId) { // åˆå›ã®ã¿è¨ˆç®—
            finalId = "";
            finalId += axis1 > 0 ? "æ³¥" : "æµ„";
            finalId += axis2 > 0 ? "æ”»" : "å®‰";
            finalId += axis3 > 0 ? "å…±" : "å­¤";
            finalId += axis4 > 0 ? "éŠ" : "å¾‹";
        }

        const t = translations[currentLang];
        const data = resultData[finalId][currentLang]; // è¨€èªã«å¿œã˜ãŸãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—

        document.getElementById('result-kanji').innerText = `ã€${finalId}ã€‘`;
        document.getElementById('result-title').innerText = data.title;
        document.getElementById('result-desc-text').innerText = data.desc;
        document.getElementById('result-rec').innerText = data.rec;
        document.getElementById('result-item').innerText = data.item;
        
        // â˜…ä¿®æ­£ãƒã‚¤ãƒ³ãƒˆï¼š undefined ãƒã‚°ã‚’ä¿®æ­£
        document.getElementById('result-match').innerText = `Best Match: ã€${data.match}ã€‘`;
        
        // ãƒ¬ã‚¢æ¼”å‡º
        const rareBanner = document.getElementById('rare-banner');
        rareBanner.classList.add('hidden'); 
        rareBanner.innerHTML = '';
        
        if (axis1 >= 6) {
            rareBanner.innerHTML = `<div><span class="rare-star">â˜…â˜…â˜…â˜…â˜…</span> ${t.mudName} <span class="rare-star">â˜…â˜…â˜…â˜…â˜…</span></div><div class="rare-title">${t.rareMud}</div>`;
            rareBanner.classList.remove('hidden');
        } else if (axis1 <= -7) {
            rareBanner.innerHTML = `<div><span class="rare-star">â˜…â˜…â˜…â˜…â˜…</span> ${t.cleanName} <span class="rare-star">â˜…â˜…â˜…â˜…â˜…</span></div><div class="rare-title">${t.rareClean}</div>`;
            rareBanner.classList.remove('hidden');
        }

        // éš ã‚Œä¸­ç«‹
        const adviceBox = document.getElementById('neutral-advice');
        adviceBox.style.display = 'none';
        if (Math.abs(axis1) <= 4) {
             const opposite = axis1 > 0 ? t.cleanName : t.mudName;
             adviceBox.innerHTML = t.neutralAdvice.replace('$1', opposite);
             adviceBox.style.display = 'block';
        }

        document.getElementById('result-image').src = `./images/${finalId}.png`;

        const maxScore = 15; 
        const setDot = (elementId, netScore) => {
            let val = Math.max(-maxScore, Math.min(maxScore, netScore));
            let percent = ((val + maxScore) / (maxScore * 2)) * 100;
            percent = Math.max(5, Math.min(95, percent));
            setTimeout(() => { document.getElementById(elementId).style.left = `${percent}%`; }, 100);
        };
        setDot('dot-1', axis1); setDot('dot-2', axis2); setDot('dot-3', axis3); setDot('dot-4', axis4);
    }

    function shareOnX() {
        const t = translations[currentLang];
        const data = resultData[finalId][currentLang];
        
        let rareText = "";
        const axis1 = scores.mud - scores.clean;
        if (axis1 >= 6) rareText = `ã€${t.rareMud}ã€‘\n`;
        else if (axis1 <= -7) rareText = `ã€${t.rareClean}ã€‘\n`;

        // è‹±èªã®æ™‚ã¯è‹±èªã§ã‚·ã‚§ã‚¢
        const text = `${rareText}${currentLang === 'ja' ? 'ç§ã®Travel IDã¯' : 'My Travel ID is'}ã€${finalId}ã€‘\n${data.title}\n#TravelID\n`;
        
        const url = window.location.href;
        const shareUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}&url=${encodeURIComponent(url)}`;
        window.open(shareUrl, '_blank');
    }
</script>
</body>
</html>